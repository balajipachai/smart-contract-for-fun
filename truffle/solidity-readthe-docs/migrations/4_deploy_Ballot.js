const Ballot = artifacts.require('Ballot');

module.exports = function(deployer, network, accounts) {
  const coinbase = accounts[0];

  // Creating the proposalNames[]
  /**
   * How to get the bytes32 equivalent of names?
   * geth attach "http://localhost:8545" => This is where ganache is running
   * On Geth Console:
   * > web3.fromAscii('Balaji Shetty Pachai') => '0x42616c616a692053686574747920506163686169'
   * note, the length of generated hash is not 66 (with 0x) thus pad it with zeros
   *  s.t. we get bytes32 equivalent i.e.
   *    => '0x42616c616a692053686574747920506163686169'
   *    becomes =>
   *      '0x42616c616a692053686574747920506163686169000000000000000000000000'
   *
   * Similarly I have calculated bytes32 equivalent of:
   * > web3.fromAscii('Avinash Baban Vazratkar')
   *  => '0x4176696e61736820426162616e2056617a7261746b6172'
   *    => '0x4176696e61736820426162616e2056617a7261746b6172000000000000000000'
   *
   * > web3.fromAscii('Rushikesh Dinesh Acharya')
   *  => '0x52757368696b6573682044696e6573682041636861727961'
   *    => '0x52757368696b6573682044696e65736820416368617279610000000000000000'
   *
   * > web3.fromAscii('Gaurav Pawan Agarwal')
   *  => '0x47617572617620506177616e204167617277616c'
   *    '0x47617572617620506177616e204167617277616c000000000000000000000000'
   *
   * > web3.fromAscii('Jino Thomas')
   *  => '0x4a696e6f2054686f6d6173'
   *    => '0x4a696e6f2054686f6d6173000000000000000000000000000000000000000000'
   *
   * proposalNames[0] = '0x42616c616a692053686574747920506163686169000000000000000000000000'
   * proposalNames[0] = '0x4176696e61736820426162616e2056617a7261746b6172000000000000000000'
   * proposalNames[0] = '0x52757368696b6573682044696e65736820416368617279610000000000000000'
   * proposalNames[0] = '0x47617572617620506177616e204167617277616c000000000000000000000000'
   * proposalNames[0] = '0x4a696e6f2054686f6d6173000000000000000000000000000000000000000000'
   */

  const proposalNames = [
    '0x42616c616a692053686574747920506163686169000000000000000000000000',
    '0x4176696e61736820426162616e2056617a7261746b6172000000000000000000',
    '0x52757368696b6573682044696e65736820416368617279610000000000000000',
    '0x47617572617620506177616e204167617277616c000000000000000000000000',
    '0x4a696e6f2054686f6d6173000000000000000000000000000000000000000000'
  ];

  // coinbase will become the ChairPerson
  deployer.deploy(Ballot, proposalNames, { from: coinbase, gas: 8000000 });
};
